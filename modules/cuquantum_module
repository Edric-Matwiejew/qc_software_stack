-- -*- lua -*-
help([[
NVIDIA cuQUANTUM is a GPU-accelerated tensor linear algebra library for tensor contraction, reduction, and elementwise operations.
]])

whatis("Name: cuQUANTUM CUQUANTUMVERSION")
whatis("CUDA Version: CUDAVERSION")
whatis("Documentation: https://docs.nvidia.com/cuda/cuquantum/24.03.0/")

prereq_any("nvhpc-openmpi3/NVHPCVERSION", "nvhpc/NVHPCVERSION")
load("cutensor-12")
conflict("mpi")

local CUQUANTUM_ROOT = "CUQUANTUMROOT"

setenv("CUQUANTUM_ROOT", CUQUANTUM_ROOT)
setenv("CUTENSORNET_COMM_LIB", pathJoin(CUQUANTUM_ROOT, "distributed_interfaces/libcutensornet_distributed_mpi.so"))
prepend_path("LIBRARY_PATH", pathJoin(CUQUANTUM_ROOT, "lib/"))
prepend_path("LD_LIBRARY_PATH", pathJoin(CUQUANTUM_ROOT, "lib/"))
prepend_path("LD_LIBRARY_PATH", pathJoin(CUQUANTUM_ROOT, "distributed_interfaces/"))
prepend_path("CPATH", pathJoin(CUQUANTUM_ROOT, "include/"))
prepend_path("CMAKE_PREFIX_PATH", pathJoin(CUQUANTUM_ROOT, "lib/"))
prepend_path("CMAKE_PREFIX_PATH", pathJoin(CUQUANTUM_ROOT, "include/"))
prepend_path("CMAKE_PREFIX_PATH", pathJoin(CUQUANTUM_ROOT, "lib/"))

